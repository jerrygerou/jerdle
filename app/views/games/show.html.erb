<h1>Your Current Game</h1>
<p> Game ID: <%= @game.id %> </p>

<br>
<%= flash[:notice] if flash[:notice] %>
<% if @game.errors.full_messages.any? %>
  <% @game.errors.full_messages.each do |error_message| %>
    <%= error_message if @game.errors.full_messages.first == error_message %> <br />
  <% end %>
<% end %>

<h2>Guesses Remaining: <%= Guess::BEGINNING_GUESSES - @game.guesses.count %></h2>

<table style="width:30%">
  <tr>
    <th style="width:15%">Guess</th>
    <th style="width:15%">Response String</th>
  </tr>

  <tbody>
  <% @game.guesses.each do |guess| %>
    <tr>
      <td><%= guess.body %></td>
      <td><%= guess.guess_response %></td>
    </tr>
  <% end %>
  </tbody>
</table>
<% unless @game.game_over? %>
  <%= form_with model: @game.guesses, url: guesses_path, method: :post, local: true do |form| %>
    <br>
      <%= form.label :new_guess %>
      <br>
      <%= form.text_field :body %>
      <%= form.hidden_field :game_id, value: @game.id %>
      <%= form.submit "Add Guess" %>
  <% end %>
<% end %>